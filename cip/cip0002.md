---
author: "Neil Lawrence"
created: "2026-02-08"
id: "0002"
last_updated: "2026-02-08"
status: "Accepted"
compressed: false
related_requirements:
  - "0002"
related_cips:
  - "0001"
tags:
- cip
- notebooks
- examples
- validation
title: "Example Notebooks Structure and Content"
---

# CIP-0002: Example Notebooks Structure and Content

> **Note**: This CIP describes HOW to structure the example notebooks to meet REQ-0002.

## Status

- [x] Proposed - Initial idea documented
- [x] Accepted - Approved, ready to start work
- [ ] In Progress - Actively being implemented
- [ ] Implemented - Work complete, awaiting verification
- [ ] Closed - Verified and complete

## Summary

Design Jupyter notebooks that reproduce all paper experiments, serving both as validation of the implementation and as educational material for users.

**Which requirements does this CIP address?** REQ-0002 (Example Jupyter Notebooks Reproducing Paper Experiments)

## Motivation

The notebooks serve three critical purposes:
1. **Validation**: Prove Python implementation reproduces paper results
2. **Education**: Teach users how to use the algorithm
3. **Examples**: Provide starting points for adaptation

Well-structured notebooks make the difference between a package that people can figure out vs. one that sits unused.

## Detailed Description

### Notebook Structure

```
examples/
├── README.md                          # Overview of examples
├── 01_three_circles.ipynb            # Introduction example
├── 02_nonconvex_shapes.ipynb         # Ear and swirls
├── 03_image_segmentation.ipynb       # Shapes image
├── 04_spectrogram_clustering.ipynb   # Audio example
├── 05_parameter_exploration.ipynb    # Parameter tuning guide
└── data/                              # Data files
    ├── shapes.bmp
    ├── ear.bmp
    ├── swirls.bmp
    └── spectrogram.txt
```

### Notebook Template Structure

Each notebook should follow this structure:

1. **Title and Overview** (1-2 paragraphs)
   - What dataset / problem
   - Why it's challenging for standard methods
   - Reference to paper figure(s)

2. **Setup** (code cell)
   ```python
   import numpy as np
   import matplotlib.pyplot as plt
   from spectral import SpectralCluster
   ```

3. **Generate/Load Data** (code + explanation)
   - Show the dataset visually
   - Explain its structure

4. **Standard Method Comparison** (optional but valuable)
   - Show why k-means fails
   - Or show Ng et al. (requires knowing k)

5. **Apply Spectral Clustering** (code + explanation)
   ```python
   clf = SpectralCluster(sigma=0.05)
   clf.fit(X)
   print(f"Found {clf.n_clusters_} clusters")
   ```

6. **Visualize Results**
   - Clustering in original space (compare to paper figure)
   - Eigenspace visualization (radial structure)
   - Centers in eigenspace

7. **Interpretation** (markdown)
   - Connect back to paper concepts
   - Discuss parameter choices
   - Note any insights

### Specific Notebook Designs

**01_three_circles.ipynb** (Most Important)
- Generate three concentric circles with noise
- Show why k-means fails (convexity assumption)
- Run spectral clustering
- Visualize:
  - Original data with clusters (Figure 1/3 from paper)
  - 2D eigenspace showing radial structure (Figure 2)
  - Eigenvalues to show eigengap
- Explain the key insight: unnormalized eigenvectors cluster radially

**02_nonconvex_shapes.ipynb**
- Load ear.bmp and swirls.bmp
- Extract coordinates and intensities as features
- Cluster both datasets
- Match Figures 4a and 4b from paper
- Discuss sigma selection

**03_image_segmentation.ipynb**
- Load shapes.bmp
- Create feature vectors: (x, y, intensity)
- Run with sigma=1 and sigma=2
- Show how sigma affects granularity (Figures 5b vs 5c)
- Discuss intensity weighting

**04_spectrogram_clustering.ipynb**
- Load spectrogram of "Aba" utterance
- Visualize spectrogram (time vs frequency)
- Cluster with sigma=3.5 and sigma=2.5
- Show consonant/vowel segmentation (Figures 6b and 6c)
- Interpret in speech context

**05_parameter_exploration.ipynb** (Bonus)
- Systematic study of sigma effect
- Effect of lambda on elongation
- Guidelines for parameter selection
- When does algorithm struggle?

### Data Preparation

Copy from matlab/ directory:
- shapes.bmp → examples/data/
- ear.bmp → examples/data/
- swirls.bmp → examples/data/
- spectrogram.txt → examples/data/

Note: baseball image referenced in paper but may not be available

### Technical Guidelines

**Code Style**:
- Clear variable names matching paper notation where possible
- Comments explaining key steps
- Avoid overly compact code - clarity over brevity

**Visualization**:
- Use matplotlib for consistency
- High-quality figures suitable for presentations
- Proper axis labels, legends, titles
- Color schemes that are colorblind-friendly

**Interactivity**:
- Use widgets for parameter exploration (optional)
- Keep computation time reasonable (<30 seconds per notebook)

**Documentation**:
- Markdown cells between code cells
- LaTeX equations for key formulas
- Links to paper sections/equations

## Implementation Plan

1. **Set up data directory**:
   - Copy image files from matlab/
   - Create examples/README.md

2. **Create notebook 1 (three circles)**:
   - Most important - template for others
   - Complete with all visualizations
   - Validate figures match paper

3. **Create notebooks 2-4**:
   - Follow template from notebook 1
   - Reproduce remaining paper figures
   - Cross-reference paper sections

4. **Create notebook 5 (parameter exploration)**:
   - Interactive exploration
   - Guidelines document

5. **Test all notebooks**:
   - Run in fresh environment
   - Check all outputs present
   - Verify figures match paper

## Backward Compatibility

New notebooks, no compatibility concerns.

## Testing Strategy

- All notebooks must run without errors in fresh environment
- Visual inspection: figures match paper
- Integration test: can import and use spectral package
- Load time: each notebook completes in <2 minutes

## Related Requirements

This CIP addresses:
- REQ-0002: Example Jupyter Notebooks Reproducing Paper Experiments

Depends on:
- CIP-0001: Core implementation must exist first

Specifically implements:
- Notebook structure and content
- Data preparation
- Visualization approach

## Implementation Status
- [ ] Data directory set up
- [ ] Notebook 1: Three circles
- [ ] Notebook 2: Nonconvex shapes
- [ ] Notebook 3: Image segmentation
- [ ] Notebook 4: Spectrogram
- [ ] Notebook 5: Parameter exploration
- [ ] All notebooks tested

## References
- REQ-0002: Example Notebooks requirement
- CIP-0001: Core implementation
- Paper: Sanguinetti et al. (2005), Figures 1-6
- MATLAB demos: demoCircles.m, demoEar.m, demoShapes.m, demoSpectrogram.m
